{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","utils/articlesApi.js","utils/scroll.js","components/ImageInfo/ImageInfo.js","components/Searchbar/Searchbar.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","smallImg","openModal","className","s","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","id","webformatURL","largeImageURL","Button","nextImages","type","Spinner","Loader","color","height","width","Modal","componentDidMount","window","addEventListener","onCloseModal","componentWillUnmount","removeEventListener","e","code","target","nodeName","props","onClose","Overlay","this","imgUrl","Component","propType","PropTypes","func","isRequired","apiKey","api","fetchArticlesWithQuery","searchQuery","page","fetch","then","res","ok","json","Promise","reject","Error","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","Status","ImageInfo","state","articles","error","showModal","largeImgUrl","arePicturesOver","status","onClickLoadMore","setState","prevState","setTimeout","closeModal","handleClickImg","prevProps","prevQuery","serchQuery","nextName","prevPage","nextPage","imageAPI","hits","totalHits","catch","message","Searchbar","inputValue","handleChange","value","toLowerCase","handleSubmit","preventDefault","trim","toast","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","App","handleSearchbarSubmit","query","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.76bc3e28.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3t1y7\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3AR5Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1avZK\",\"Modal\":\"Modal_Modal__f0OP_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2DtQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1OsM4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3DSJa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2n8hH\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ smallImg, openModal }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={openModal}>\r\n      <img src={smallImg} alt=\"\" className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  smallImg: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          smallImg={webformatURL}\r\n          openModal={() => openModal(largeImageURL)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  openModal: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nfunction Button({ nextImages }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={nextImages}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  nextImages: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport s from \"./Loader.module.css\";\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <div className={s.Loader}>\r\n      <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  static propType = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n    imgUrl: this.propType,\r\n  };\r\n  componentDidMount = () => {\r\n    window.addEventListener(\"keydown\", this.onCloseModal);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener(\"keydown\", this.onCloseModal);\r\n  };\r\n\r\n  onCloseModal = (e) => {\r\n    if (e.code === \"Escape\" || e.target.nodeName === \"DIV\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.onCloseModal}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.imgUrl} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const apiKey = \"17653140-37eca66381d8ffc40f2e9b8e7\";\r\n\r\nfunction fetchArticlesWithQuery(searchQuery, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`No pictures with title${searchQuery}`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchArticlesWithQuery,\r\n};\r\n\r\nexport default api;\r\n","export default function scroll() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ImageGallery from \"../ImageGallery\";\r\nimport Button from \"../Button\";\r\nimport Spinner from \"../Loader\";\r\nimport Modal from \"../Modal\";\r\n\r\nimport imageAPI from \"../../utils/articlesApi\";\r\nimport scroll from \"../../utils/scroll\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nexport class ImageInfo extends Component {\r\n  static propTypes = {\r\n    serchQuery: PropTypes.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    articles: [],\r\n    page: 1,\r\n    error: null,\r\n    showModal: false,\r\n    largeImgUrl: null,\r\n    arePicturesOver: false,\r\n    status: Status.IDLE,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.serchQuery;\r\n    const nextName = this.props.serchQuery;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n\r\n    if (prevQuery !== nextName) {\r\n      this.setState({ articles: [], page: 1, error: null });\r\n    }\r\n\r\n    if (prevQuery !== nextName || prevPage !== nextPage) {\r\n      this.setState({ status: Status.PENDING });\r\n\r\n      imageAPI\r\n        .fetchArticlesWithQuery(nextName, nextPage)\r\n        .then(({ hits, totalHits }) => {\r\n          if (totalHits - nextPage * 12 <= 0) {\r\n            return this.setState(() => ({\r\n              arePicturesOver: true,\r\n              status: Status.RESOLVED,\r\n            }));\r\n          }\r\n          this.setState((prevState) => ({\r\n            articles: [...prevState.articles, ...hits],\r\n            status: Status.RESOLVED,\r\n          }));\r\n        })\r\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\r\n    }\r\n  }\r\n\r\n  onClickLoadMore = () => {\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n    setTimeout(scroll, 400);\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false, largeImgUrl: null });\r\n  };\r\n\r\n  handleClickImg = (largeImgUrl) => {\r\n    this.setState({\r\n      largeImgUrl: largeImgUrl,\r\n      showModal: true,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      articles,\r\n      status,\r\n      error,\r\n      showModal,\r\n      largeImgUrl,\r\n      arePicturesOver,\r\n    } = this.state;\r\n\r\n    if (status === Status.IDLE) {\r\n      return <></>;\r\n    }\r\n\r\n    if (status === Status.REJECTED) {\r\n      return <h1>{error.message}</h1>;\r\n    }\r\n\r\n    if (status === Status.RESOLVED || status === Status.PENDING) {\r\n      return (\r\n        <>\r\n          <ImageGallery images={articles} openModal={this.handleClickImg} />\r\n          {status === Status.RESOLVED && !arePicturesOver && (\r\n            <Button nextImages={this.onClickLoadMore} />\r\n          )}\r\n          {status === Status.PENDING && <Spinner />}\r\n          {showModal && (\r\n            <Modal onClose={this.closeModal} imgUrl={largeImgUrl} />\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageInfo;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.inputValue.trim() === \"\") {\r\n      return toast.error(\"Enter the name of the pictures \");\r\n    }\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.SearchFormButtonLabel}></span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              value={this.state.inputValue}\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageInfo from \"./ImageInfo\";\r\nimport Searchbar from \"./Searchbar\";\r\n\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport s from \"./App.module.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    serchQuery: \"\",\r\n  };\r\n\r\n  handleSearchbarSubmit = (query) => {\r\n    this.setState({ serchQuery: query });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.App}>\r\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />;\r\n        <ImageInfo serchQuery={this.state.serchQuery} />\r\n        <ToastContainer position=\"top-right\" autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3aI3j\",\"SearchForm\":\"Searchbar_SearchForm__WmmgW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__T03YU\",\"SearchForButton\":\"Searchbar_SearchForButton__3-TAj\",\"SearchForButtonLabel\":\"Searchbar_SearchForButtonLabel__1nVn-\",\"SearchFormInput\":\"Searchbar_SearchFormInput__10lyv\"};"],"sourceRoot":""}