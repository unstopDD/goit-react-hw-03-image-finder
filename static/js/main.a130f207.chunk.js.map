{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","utils/articlesApi.js","utils/scroll.js","components/ImageInfo/ImageInfo.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGalleryItem","smallImg","openModal","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","id","webformatURL","largeImageURL","Button","nextImages","Spinner","Loader","color","height","width","Modal","componentDidMount","window","addEventListener","onCloseModal","componentWillUnmount","removeEventListener","code","nodeName","onClose","Overlay","imgUrl","propType","PropTypes","func","isRequired","apiKey","api","fetchArticlesWithQuery","searchQuery","page","fetch","then","res","ok","json","Promise","reject","Error","data","hits","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","ImageInfo","articles","showModal","largeImgUrl","status","fetchArticles","nextName","serchQuery","imageAPI","prevState","catch","togleModal","handleClickImg","prevProps","setTimeout","message","App","handleSearchbarSubmit","query","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a130f207.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__jbpcU\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__WNXNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1avZK\",\"Modal\":\"Modal_Modal__f0OP_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2DtQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1OsM4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3DSJa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2n8hH\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.inputValue.trim() === \"\") {\r\n      return toast.error(\"Enter the name of the pictures \");\r\n    }\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.SearchFormButtonLabel}></span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              value={this.state.inputValue}\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ smallImg, openModal }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={openModal}>\r\n      <img src={smallImg} alt=\"\" className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  smallImg: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          smallImg={webformatURL}\r\n          openModal={() => openModal(largeImageURL)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  openModal: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nfunction Button({ nextImages }) {\r\n  return (\r\n    <button type=\"articles\" className={s.Button} onClick={nextImages}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  nextImages: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport s from \"./Loader.module.css\";\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <div className={s.Loader}>\r\n      <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  static propType = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n    imgUrl: this.propType,\r\n  };\r\n  componentDidMount = () => {\r\n    window.addEventListener(\"keydown\", this.onCloseModal);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener(\"keydown\", this.onCloseModal);\r\n  };\r\n\r\n  onCloseModal = (e) => {\r\n    if (e.code === \"Escape\" || e.target.nodeName === \"DIV\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.onCloseModal}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.imgUrl} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const apiKey = \"17653140-37eca66381d8ffc40f2e9b8e7\";\r\n\r\nfunction fetchArticlesWithQuery(searchQuery, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n  )\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      return Promise.reject(new Error(`No pictures with title${searchQuery}`));\r\n    })\r\n    .then((data) => data.hits);\r\n}\r\n\r\nconst api = {\r\n  fetchArticlesWithQuery,\r\n};\r\n\r\nexport default api;\r\n","export default function scroll() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageGallery from \"../ImageGallery\";\r\nimport Button from \"../Button\";\r\nimport Spinner from \"../Loader\";\r\nimport Modal from \"../Modal\";\r\n\r\nimport imageAPI from \"../../utils/articlesApi\";\r\nimport scroll from \"../../utils/scroll\";\r\n\r\nexport class ImageInfo extends Component {\r\n  state = {\r\n    articles: [],\r\n    page: 1,\r\n    error: null,\r\n    showModal: false,\r\n    largeImgUrl: null,\r\n    status: \"idle\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.serchQuery;\r\n    const nextName = this.props.serchQuery;\r\n\r\n    if (prevQuery !== nextName) {\r\n      this.fetchArticles();\r\n    }\r\n\r\n    if (prevState.page !== this.state.page) {\r\n      setTimeout(scroll, 300);\r\n    }\r\n  }\r\n\r\n  fetchArticles = () => {\r\n    const nextName = this.props.serchQuery;\r\n    const { page } = this.state;\r\n    this.setState({ status: \"pending\" });\r\n\r\n    imageAPI\r\n      .fetchArticlesWithQuery(nextName, page)\r\n      .then((articles) =>\r\n        this.setState((prevState) => ({\r\n          articles: [...prevState.articles, ...articles],\r\n          page: prevState.page + 1,\r\n          status: \"resolved\",\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n  };\r\n\r\n  togleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n  };\r\n\r\n  handleClickImg = (largeImgUrl) => {\r\n    this.setState({ largeImgUrl: largeImgUrl });\r\n    this.togleModal();\r\n  };\r\n\r\n  render() {\r\n    const { articles, status, error, showModal, largeImgUrl } = this.state;\r\n\r\n    if (status === \"idle\") {\r\n      return <></>;\r\n    }\r\n    if (status === \"pending\") {\r\n      return <Spinner />;\r\n    }\r\n    if (status === \"rejected\") {\r\n      return <h1>{error.message}</h1>;\r\n    }\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <>\r\n          <ImageGallery images={articles} openModal={this.handleClickImg} />\r\n          <Button nextImages={this.fetchArticles} />\r\n          {showModal && (\r\n            <Modal onClose={this.togleModal} imgUrl={largeImgUrl} />\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageInfo;\r\n","import React, { Component } from \"react\";\r\n\r\nimport Searchbar from \"./Searchbar\";\r\nimport ImageInfo from \"./ImageInfo\";\r\n\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport s from \"./App.module.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    serchQuery: \"\",\r\n  };\r\n\r\n  handleSearchbarSubmit = (query) => {\r\n    this.setState({ serchQuery: query, page: 1, articles: [] });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.App}>\r\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />\r\n        <ImageInfo serchQuery={this.state.serchQuery} />\r\n        <ToastContainer position=\"top-right\" autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3aI3j\",\"SearchForm\":\"Searchbar_SearchForm__WmmgW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__T03YU\",\"SearchForButton\":\"Searchbar_SearchForButton__3-TAj\",\"SearchForButtonLabel\":\"Searchbar_SearchForButtonLabel__1nVn-\",\"SearchFormInput\":\"Searchbar_SearchFormInput__10lyv\"};"],"sourceRoot":""}