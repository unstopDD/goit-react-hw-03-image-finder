{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","utils/articlesApi.js","utils/scroll.js","components/ImageInfo/ImageInfo.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","smallImg","openModal","className","s","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","id","webformatURL","largeImageURL","Button","nextImages","type","Spinner","Loader","color","height","width","Modal","componentDidMount","window","addEventListener","onCloseModal","componentWillUnmount","removeEventListener","e","code","target","nodeName","props","onClose","Overlay","this","imgUrl","Component","propType","PropTypes","func","isRequired","Searchbar","state","inputValue","handleChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","apiKey","api","fetchArticlesWithQuery","searchQuery","page","fetch","then","res","ok","json","Promise","reject","Error","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","Status","ImageInfo","articles","showModal","largeImgUrl","arePicturesOver","status","fetchArticles","nextName","serchQuery","imageAPI","hits","totalHits","prevState","length","catch","handleSearchbarSubmit","query","closeModal","handleClickImg","prevProps","setTimeout","message","App","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b7e2a519.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3t1y7\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3AR5Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1avZK\",\"Modal\":\"Modal_Modal__f0OP_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2DtQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1OsM4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3DSJa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2n8hH\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ smallImg, openModal }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={openModal}>\r\n      <img src={smallImg} alt=\"\" className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  smallImg: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          smallImg={webformatURL}\r\n          openModal={() => openModal(largeImageURL)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  openModal: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nfunction Button({ nextImages }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={nextImages}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  nextImages: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport s from \"./Loader.module.css\";\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <div className={s.Loader}>\r\n      <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  static propType = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n    imgUrl: this.propType,\r\n  };\r\n  componentDidMount = () => {\r\n    window.addEventListener(\"keydown\", this.onCloseModal);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener(\"keydown\", this.onCloseModal);\r\n  };\r\n\r\n  onCloseModal = (e) => {\r\n    if (e.code === \"Escape\" || e.target.nodeName === \"DIV\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.onCloseModal}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.imgUrl} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.inputValue.trim() === \"\") {\r\n      return toast.error(\"Enter the name of the pictures \");\r\n    }\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.SearchFormButtonLabel}></span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              value={this.state.inputValue}\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","const apiKey = \"17653140-37eca66381d8ffc40f2e9b8e7\";\r\n\r\nfunction fetchArticlesWithQuery(searchQuery, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`No pictures with title${searchQuery}`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchArticlesWithQuery,\r\n};\r\n\r\nexport default api;\r\n","export default function scroll() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageGallery from \"../ImageGallery\";\r\nimport Button from \"../Button\";\r\nimport Spinner from \"../Loader\";\r\nimport Modal from \"../Modal\";\r\nimport Searchbar from \"../Searchbar\";\r\n\r\nimport imageAPI from \"../../utils/articlesApi\";\r\nimport scroll from \"../../utils/scroll\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nexport class ImageInfo extends Component {\r\n  state = {\r\n    articles: [],\r\n    page: 1,\r\n    error: null,\r\n    showModal: false,\r\n    largeImgUrl: null,\r\n    arePicturesOver: true,\r\n    status: Status.IDLE,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.serchQuery;\r\n    const nextName = this.state.serchQuery;\r\n\r\n    if (prevQuery !== nextName) {\r\n      this.fetchArticles();\r\n    }\r\n\r\n    if (prevState.page !== this.state.page) {\r\n      setTimeout(scroll, 400);\r\n    }\r\n  }\r\n\r\n  fetchArticles = () => {\r\n    const nextName = this.state.serchQuery;\r\n    const { page } = this.state;\r\n    this.setState({ status: Status.PENDING });\r\n\r\n    imageAPI\r\n      .fetchArticlesWithQuery(nextName, page)\r\n      .then(({ hits, totalHits }) =>\r\n        this.setState((prevState) => ({\r\n          articles: [...prevState.articles, ...hits],\r\n          page: prevState.page + 1,\r\n          status: Status.RESOLVED,\r\n          arePicturesOver: totalHits / page < hits.length,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error, status: Status.REJECTED }));\r\n  };\r\n\r\n  handleSearchbarSubmit = (query) => {\r\n    this.setState({ serchQuery: query, page: 1, articles: [] });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: !this.state.showModal, largeImgUrl: null });\r\n  };\r\n\r\n  handleClickImg = (largeImgUrl) => {\r\n    this.setState({\r\n      largeImgUrl: largeImgUrl,\r\n      showModal: !this.state.showModal,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      articles,\r\n      status,\r\n      error,\r\n      showModal,\r\n      largeImgUrl,\r\n      arePicturesOver,\r\n    } = this.state;\r\n\r\n    if (status === Status.IDLE) {\r\n      return <Searchbar onSubmit={this.handleSearchbarSubmit} />;\r\n    }\r\n    if (status === Status.PENDING) {\r\n      return (\r\n        <>\r\n          <Searchbar onSubmit={this.handleSearchbarSubmit} />;\r\n          <ImageGallery images={articles} openModal={this.handleClickImg} />;\r\n          <Spinner />;\r\n        </>\r\n      );\r\n    }\r\n    if (status === Status.REJECTED) {\r\n      return <h1>{error.message}</h1>;\r\n    }\r\n    if (status === Status.RESOLVED) {\r\n      return (\r\n        <>\r\n          <Searchbar onSubmit={this.handleSearchbarSubmit} />\r\n          <ImageGallery images={articles} openModal={this.handleClickImg} />\r\n          {!arePicturesOver && <Button nextImages={this.fetchArticles} />}\r\n          {showModal && (\r\n            <Modal onClose={this.closeModal} imgUrl={largeImgUrl} />\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageInfo;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageInfo from \"./ImageInfo\";\r\n\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport s from \"./App.module.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    serchQuery: \"\",\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.App}>\r\n        <ImageInfo serchQuery={this.state.serchQuery} />\r\n        <ToastContainer position=\"top-right\" autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3aI3j\",\"SearchForm\":\"Searchbar_SearchForm__WmmgW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__T03YU\",\"SearchForButton\":\"Searchbar_SearchForButton__3-TAj\",\"SearchForButtonLabel\":\"Searchbar_SearchForButtonLabel__1nVn-\",\"SearchFormInput\":\"Searchbar_SearchFormInput__10lyv\"};"],"sourceRoot":""}